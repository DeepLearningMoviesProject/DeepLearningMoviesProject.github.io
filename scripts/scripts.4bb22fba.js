"use strict";angular.module("frontMoviesDeepLearningApp",["ngAnimate","ngAria","ngCookies","ngResource","ngRoute","ngSanitize","ngMaterial","imagesLoaded","cl.paging"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).when("/improveAccuracy",{templateUrl:"views/improveaccuracy.html",controller:"ImproveaccuracyCtrl",controllerAs:"improveAccuracy"}).when("/annotatedMovies",{templateUrl:"views/annotatedmovies.html",controller:"AnnotatedmoviesCtrl",controllerAs:"annotatedMovies"}).otherwise({redirectTo:"/"})}]).config(["$httpProvider",function(a){a.defaults.useXDomain=!0,delete a.defaults.headers.common["X-Requested-With"]}]).config(["$sceDelegateProvider",function(a){a.resourceUrlWhitelist(["**"])}]).config(["$mdThemingProvider",function(a){var b=a.extendPalette("light-blue",{contrastDefaultColor:"light",contrastDarkColors:["50"],50:"ffffff"});a.definePalette("customBlue",b),a.theme("default").primaryPalette("customBlue",{"default":"500","hue-1":"50"}).accentPalette("pink"),a.theme("greenTheme").primaryPalette("green"),a.theme("redTheme").primaryPalette("red"),a.theme("input","default").primaryPalette("grey"),a.alwaysWatchTheme(!0)}]).config(["$mdIconProvider",function(a){a.iconSet("action","material-design-icons/sprites/svg-sprite/svg-sprite-action.svg",24).iconSet("home","material-design-icons/sprites/svg-sprite/svg-sprite-home.svg",24).iconSet("alert","material-design-icons/sprites/svg-sprite/svg-sprite-alert.svg",24).iconSet("av","material-design-icons/sprites/svg-sprite/svg-sprite-av.svg",24).iconSet("communication","material-design-icons/sprites/svg-sprite/svg-sprite-communication.svg",24).iconSet("content","material-design-icons/sprites/svg-sprite/svg-sprite-content.svg",24).iconSet("device","material-design-icons/sprites/svg-sprite/svg-sprite-device.svg",24).iconSet("editor","material-design-icons/sprites/svg-sprite/svg-sprite-editor.svg",24).iconSet("file","material-design-icons/sprites/svg-sprite/svg-sprite-file.svg",24).iconSet("hardware","material-design-icons/sprites/svg-sprite/svg-sprite-hardware.svg",24).iconSet("image","material-design-icons/sprites/svg-sprite/svg-sprite-image.svg",24).iconSet("maps","material-design-icons/sprites/svg-sprite/svg-sprite-maps.svg",24).iconSet("navigation","material-design-icons/sprites/svg-sprite/svg-sprite-navigation.svg",24).iconSet("notification","material-design-icons/sprites/svg-sprite/svg-sprite-notification.svg",24).iconSet("social","material-design-icons/sprites/svg-sprite/svg-sprite-social.svg",24).iconSet("toggle","material-design-icons/sprites/svg-sprite/svg-sprite-toggle.svg",24).iconSet("avatars","https://raw.githubusercontent.com/angular/material/master/docs/app/icons/avatar-icons.svg",24).defaultIconSet("material-design-icons/sprites/svg-sprite/svg-sprite-action.svg",24)}]),angular.module("frontMoviesDeepLearningApp").controller("MainCtrl",["$rootScope","$scope",function(a,b){function c(a){var b=Object.create(null);return a.forEach(function(a,c){b[c]=a}),b}function d(a){var b=new Map;return Object.keys(a).forEach(function(c,d){b.set(c,a[c])}),b}function e(a){return JSON.stringify(c(a))}this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],b.uploadFiles=function(){var b=document.getElementById("preferences").files;if(console.log(b),b.length<=0)return!1;var c=new FileReader;c.onload=function(b){var c=JSON.parse(b.target.result);a.moviesEvaluation=d(c),console.log(a.moviesEvaluation)},c.readAsText(b.item(0))},b.saveToPc=function(a,b){if(!a)return void console.error("No data");b||(b="download.json"),a=e(a);var c=new Blob([a],{type:"text/json"});if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(c,b);else{var d=document.createEvent("MouseEvents"),f=document.createElement("a");f.download=b,f.href=window.URL.createObjectURL(c),f.dataset.downloadurl=["text/json",f.download,f.href].join(":"),d.initEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),f.dispatchEvent(d)}}}]),angular.module("frontMoviesDeepLearningApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("frontMoviesDeepLearningApp").controller("PrimaryCtrl",["$scope","$rootScope","$mdSidenav","$location",function(a,b,c,d){b.moviesEvaluation=new Map,a.loadingBar=!1,a.loadingBarToggle=function(){a.loadingBar=!a.loadingBar},a.hideLoadingBar=function(){a.loadingBar=!1},a.showLoadingBar=function(){a.loadingBar=!0},a.menu=[{link:"/",title:"Accueil",icon:"action:ic_home_24px"},{link:"/annotatedMovies",title:"Mes films annotés",icon:"action:ic_dashboard_24px"},{link:"/improveAccuracy",title:"Améliorer mes prédictions",icon:"social:ic_group_24px"}],a.go=function(b){d.path()===b?a.hideLoadingBar():d.path(b)},a.toggleSidenav=function(a){c(a).toggle()}}]),angular.module("frontMoviesDeepLearningApp").controller("ImproveaccuracyCtrl",["$rootScope","$scope","$mdDialog","$timeout","SearchMoviesFactory","DiscoverMoviesFactory","MoviesDetailsFactory",function(a,b,c,d,e,f,g){function h(a,b){a.hide=function(){b.hide()},a.cancel=function(){b.cancel()},a.answer=function(a){b.hide(a)}}b.showLoadingBar(),b.movieDetails={},b.globalPage=0,b.searchMovieByName=function(a){return a?(b.showLoadingBar(),void e.getMoviesByName({query:a},function(a){a.$promise.then(function(a){return b.moviesSearched=a,console.log(b.moviesSearched),a})})):void b.hideLoadingBar()},b.discoverMovies=function(a){b.showLoadingBar();var c=1;null==a?(c=Math.floor(1e3*Math.random())+1,b.globalPage=0):c=b.globalPage+a<1?1:b.globalPage+a>1e3?1e3:b.globalPage+=a,console.log(c),f.getDiscoveredMoviesByName({page:c},function(a){a.$promise.then(function(a){return b.moviesSearched=a,console.log(b.moviesSearched),a})})},b.evaluateMovies=function(b,c){a.moviesEvaluation.get(b.toString())===c?a.moviesEvaluation["delete"](b.toString()):a.moviesEvaluation.set(b.toString(),c),console.log(a.moviesEvaluation)},b.discoverMovies(1),b.$on("SUCCESS",function(){console.log("ALL PICTURES LOADED SUCCESSFULLY")}),b.$on("FAIL",function(){console.log("ALL PICTURES LOADED WITH ATLEAST ONE FAILED")}),b.$on("ALWAYS",function(){b.hideLoadingBar(),console.log("ALL DONE ALWAYS")}),b.getMovieDetails=function(a){g.getMoviesDetailsById({id:a},function(c){c.$promise.then(function(c){return b.allMoviesTemp.push(c),0===b.moviesEvaluation.get(a)?b.dislikedMovies.push(c):1===b.moviesEvaluation.get(a)&&b.likedMovies.push(c),b.allMoviesTemp.length===lastIndexToLoad-(b.paging.current-1)*b.rangeIndex&&(b.allMovies=b.allMoviesTemp.slice()),c})})},b.showMovieDetailsDialog=function(a,d){b.movieDetails={},g.getMoviesDetailsById({id:d},function(d){d.$promise.then(function(d){return console.log(d),c.show({controller:h,templateUrl:"views/moviedetailsdialog.html",scope:b.$new(),targetEvent:a}).then(function(){console.log("Show movie details done !")},function(){console.log("Movie details dialog closed !")}),b.movieDetails=d,d})})},h.$inject=["$scope","$mdDialog"]}]),angular.module("frontMoviesDeepLearningApp").factory("DiscoverMoviesFactory",["$resource","$rootScope","WebServices",function(a,b,c){var d=c.webServicesGroup;return a(d.discover.movies,{},{getDiscoveredMoviesByName:{method:"JSONP",params:{api_key:"ff3f07bf3577a496a2f813488eb29980",sort_by:"popularity.desc","vote_count.gte":"1",language:"fr-FR",page:"@page"},headers:{"Content-Type":"application/json"}}})}]).factory("SearchMoviesFactory",["$resource","$rootScope","WebServices",function(a,b,c){var d=c.webServicesGroup;return a(d.search.movies,{},{getMoviesByName:{method:"JSONP",params:{api_key:"ff3f07bf3577a496a2f813488eb29980",language:"fr-FR",query:"@query"},headers:{"Content-Type":"application/json"}}})}]).factory("MoviesDetailsFactory",["$resource","$rootScope","WebServices",function(a,b,c){var d=c.webServicesGroup;return a(d.movies.getDetails,{id:"@id"},{getMoviesDetailsById:{method:"JSONP",params:{api_key:"ff3f07bf3577a496a2f813488eb29980",language:"fr-FR"},headers:{"Content-Type":"application/json"}}})}]),angular.module("frontMoviesDeepLearningApp").service("WebServices",["Environments",function(a){var b=this,c={movies:{getDetails:"/movie/:id",getCredits:"/movie/:id/credits",getKeywords:"/movie/:id/keywords",getLatest:"/movie/latest",getPopular:"/movie/popular"},search:{movies:"/search/movie",keywords:"/search/keyword",multi:"/search/multi"},discover:{movies:"/discover/movie"},levelTechnos:{add:"/levelTechnos"},technos:{get:"/technos"},login:{login:"/login",logout:"/logout"},assignments:{staffing:"/assignments/details",assigns:"/assignments",update:"/assignments/:id","delete":"/assignments/:id",projectDefault:"/assignments/projects/:id",projectFromWeek:"/assignments/projects/:id/:week,:year",firstLastProject:"/assignments/projects/:id/assignments?positions=first,last",lastProject:"/assignments/projects/:id/assignments?positions=last",collabDefault:"/assignments/collabs/:id",collabFromWeek:"/assignments/collabs/:id/:week,:year"},users:{add:"/users/add","delete":"/users/:id",list:"/users",user:"/user"}};this.getWebserviceGroup=function(){var b=a.getEnvironment(),d=angular.copy(c);for(var e in d)for(var f in d[e])d[e][f]=b+d[e][f];return d},this.webServicesGroup=b.getWebserviceGroup()}]),angular.module("frontMoviesDeepLearningApp").service("Environments",function(){var a="https://api.themoviedb.org/3";this.getEnvironment=function(){return a}}),angular.module("frontMoviesDeepLearningApp").controller("AnnotatedmoviesCtrl",["$rootScope","$scope","MoviesDetailsFactory",function(a,b,c){console.log(b.moviesEvaluation);var d=0;b.likedMovies=[],b.dislikedMovies=[],b.allMoviesTemp=[],b.allMovies=[],b.rangeIndex=14,b.paging={total:Math.ceil(b.moviesEvaluation.size/b.rangeIndex),current:1},b.$on("SUCCESS",function(){console.log("ALL PICTURES LOADED SUCCESSFULLY")}),b.$on("FAIL",function(){console.log("ALL PICTURES LOADED WITH ATLEAST ONE FAILED")}),b.$on("ALWAYS",function(){b.hideLoadingBar(),console.log("ALL DONE ALWAYS")}),b.getMovieDetailsById=function(a){c.getMoviesDetailsById({id:a},function(c){c.$promise.then(function(c){return b.allMoviesTemp.push(c),0===b.moviesEvaluation.get(a)?b.dislikedMovies.push(c):1===b.moviesEvaluation.get(a)&&b.likedMovies.push(c),b.allMoviesTemp.length===d-(b.paging.current-1)*b.rangeIndex&&(b.allMovies=b.allMoviesTemp.slice()),c})})},b.getNextMovies=function(a){if(0!==b.moviesEvaluation.size){b.showLoadingBar();var c=Array.from(b.moviesEvaluation.keys()),e=a;e=a+b.rangeIndex>c.length?c.length:a+b.rangeIndex,d=e,b.allMoviesTemp=[],b.allMovies=[];for(var f=a;e>f;f++)b.getMovieDetailsById(c[f])}},b.getAllMovies=function(a){var c=Array.from(b.moviesEvaluation.keys()),d=a;d=a+b.rangeIndex>c.length?c.length:a+b.rangeIndex;for(var e=a;d>e;e++)b.getMovieDetailsById(c[e]);d<c.length&&setTimeout(function(){b.getNextMovies(d)},11e3)}}]),function(){angular.module("imagesLoaded",[]).directive("imagesLoaded",["$timeout","$rootScope","$q",function(a,b,c){function d(b){a(b,0)}function e(a,b,c){this.loaded=void 0,this.loading=!0,c?this.__onload(b,!0):(this.node=new Image,this.bind(b),this.node.src=a)}function f(a){this.imagesCount=0,this.imagesLoaded=0,this.imagesFailed=0,this.useProgressEvents=a}var g={},h={progress:["QUARTER","HALF","THREEQUARTERS","FULL"],successful:"SUCCESS",complete:"FAIL",always:"ALWAYS"};return e.prototype={constructor:e,bind:function(a){var b=this;this.node.addEventListener("load",function(){b.__onload(a,!0)},!1),this.node.addEventListener("error",function(){b.__onload(a,!1)},!1)},__onload:function(a,b){this.loaded=!0,this.loading=!1,b&&this.node&&delete this.node,a(b)}},f.prototype={constructor:f,whenImagesLoaded:function(a){function b(a){var b;a?l.imagesLoaded++:l.imagesFailed++,l.useProgressEvents&&(b=(l.imagesLoaded+l.imagesFailed)/Math.ceil(k/4))&&b%1===0&&4>b&&d(function(){j.notify(h.progress[b-1])}),l.imagesLoaded+l.imagesFailed===l.imagesCount&&d(function(){j.notify(h.progress[3]),j.resolve(l.imagesFailed>0?h.complete:h.successful)})}function f(a){var c=a.src,d=g[c];d?d.loaded?b(!0):d.loading?d.bind(b):d.loaded===!1:a.complete&&a.naturalWidth>0?g[c]=new e(c,b,!0):g[c]=new e(c,b)}var i,j=c.defer(),k=a.length,l=this;this.imagesCount=k;for(var m=0;m<this.imagesCount;m++)i=a[m],f(i);return j.promise}},{restrict:"A",compile:function(a,b){return function(a,b,c){var e,g=(b[0].childNodes,"yes"===c.useProgressEvents?!0:!1),i=0,j=document.images;a.$watch(function(){return j.length},function(c,j){var k,l;c!==j&&(e=b.find("img"),k=e.length,k!==i&&(i=k,l=new f(g),d(function(){l.whenImagesLoaded(e).then(function(b){a.$emit(b),a.$emit(h.always)},function(a){},function(b){g&&a.$emit("PROGRESS",{status:b})})})))})}}}}])}(),angular.module("frontMoviesDeepLearningApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/annotatedmovies.html",'<div layout-fill layout="column"> <!-- Main toolbar --> <md-toolbar class="md-whiteframe-z1"> <div class="md-toolbar-tools"> <!-- Hamburger icon --> <md-button class="md-icon-button" ng-click="toggleSidenav(\'left\')" hide-gt-md aria-label="Menu"> <md-icon md-svg-icon="navigation:ic_menu_24px" aria-label="Menu"></md-icon> </md-button> <h3> Mes films annotés </h3> <span flex></span> <!-- Search and menus icons --> <md-button class="md-icon-button" aria-label="Search" ng-click="toggleSearch()"> <md-icon md-svg-icon="action:ic_search_24px" aria-label="Search"></md-icon> </md-button> <md-button class="md-icon-button" aria-label="Open Settings" ng-click="showListBottomSheet($event)"> <md-icon md-svg-icon="navigation:ic_more_vert_24px" aria-label="More"></md-icon> </md-button> </div> </md-toolbar> <!-- Content --> <md-content layout-padding> <md-tabs md-dynamic-height md-border-bottom> <md-tab> <md-tab-label href="#allmovies">Tous les films</md-tab-label> <md-tab-body class="md-padding"> <h1 class="md-display-2">Tous mes films</h1> <h2 ng-show="!moviesEvaluation.size"> Vous n\'avez annoté aucun film, rendez-vous dans la catégorie "Améliorer mes prédictions" :) </h2> <cl-paging ng-show="moviesEvaluation.size" flex cl-pages="paging.total" cl-steps="6" cl-page-changed="getNextMovies((paging.current-1)*rangeIndex)" cl-align="center center" cl-current-page="paging.current"></cl-paging> <div data-images-loaded ng-show="!loadingBar" class="searchedMoviesCardContainer" layout-wrap layout="row" layout-align="space-around center"> <md-card class="searchedMoviesCard" ng-repeat="movie in allMovies | orderBy:\'popularity\':true"> <img class="searchMoviesBackdropPath" ng-if="movie.backdrop_path" ng-src="https://image.tmdb.org/t/p/w780/{{movie.backdrop_path}}"> <img class="searchMoviesBackdropPath" ng-if="!movie.backdrop_path" ng-src="https://www.youmagine.com/assets/placeholder-4232c9c79bc795997e7c7d4457b3725ee5f0fb55197114169a60a534105902fb.png"> <md-card-actions layout="row" layout-align="start center"> <div layout="column" flex="70"> <span class="headline">{{movie.title}}</span> <span class="subline">{{movie.vote_average}} <span style="font-size: 16px">★</span></span> </div> <span flex></span> <md-button flex="none" ng-click="evaluateMovies(movie.id, 1)" class="md-icon-button" aria-label="like" ng-class="moviesEvaluation.get(movie.id.toString()) === 1 ? \'md-primary\' : \'\'"> <md-icon md-svg-icon="action:ic_thumb_up_24px"></md-icon> </md-button> <md-button md-theme="redTheme" flex="none" ng-click="evaluateMovies(movie.id, 0)" class="md-icon-button" aria-label="dislike" ng-class="moviesEvaluation.get(movie.id.toString()) === 0 ? \'md-primary\' : \'\'"> <md-icon md-svg-icon="action:ic_thumb_down_24px"></md-icon> </md-button> </md-card-actions> </md-card> </div> <cl-paging ng-show="moviesEvaluation.size && !loadingBar" flex cl-pages="paging.total" cl-steps="6" cl-align="center center" cl-current-page="paging.current"></cl-paging> </md-tab-body> </md-tab> <md-tab> <md-tab-label><md-icon md-svg-icon="action:ic_thumb_up_24px"></md-icon></md-tab-label> <md-tab-body class="md-padding"> <h1 class="md-display-2">Films aimés</h1> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla venenatis ante augue. Phasellus volutpat neque ac dui mattis vulputate. Etiam consequat aliquam cursus. In sodales pretium ultrices. Maecenas lectus est, sollicitudin consectetur felis nec, feugiat ultricies mi. Aliquam erat volutpat. Nam placerat, tortor in ultrices porttitor, orci enim rutrum enim, vel tempor sapien arcu a tellus. Vivamus convallis sodales ante varius gravida. Curabitur a purus vel augue ultrices ultricies id a nisl. Nullam malesuada consequat diam, a facilisis tortor volutpat et. Sed urna dolor, aliquet vitae posuere vulputate, euismod ac lorem. Sed felis risus, pulvinar at interdum quis, vehicula sed odio. Phasellus in enim venenatis, iaculis tortor eu, bibendum ante. Donec ac tellus dictum neque volutpat blandit. Praesent efficitur faucibus risus, ac auctor purus porttitor vitae. Phasellus ornare dui nec orci posuere, nec luctus mauris semper.</p> </md-tab-body> </md-tab> <md-tab> <md-tab-label><md-icon md-svg-icon="action:ic_thumb_down_24px"></md-icon></md-tab-label> <md-tab-body class="md-padding"> <h1 class="md-display-2">Films non aimés</h1> <p>Integer turpis erat, porttitor vitae mi faucibus, laoreet interdum tellus. Curabitur posuere molestie dictum. Morbi eget congue risus, quis rhoncus quam. Suspendisse vitae hendrerit erat, at posuere mi. Cras eu fermentum nunc. Sed id ante eu orci commodo volutpat non ac est. Praesent ligula diam, congue eu enim scelerisque, finibus commodo lectus.</p> </md-tab-body> </md-tab> </md-tabs> <md-card ng-show="moviesEvaluation && false" layout="row"> <!-- <img class="md-card-image" src="card-image.png" alt="image caption"> --> <md-list> <md-list-item class="md-2-line" ng-repeat="likedMovie in likedMovies | orderBy:\'popularity\':true"> <!-- <md-icon class="taskNotOk" md-svg-icon="alert:ic_error_24px" aria-label="task not ok icon"></md-icon> --> <img class="searchMoviesPosterPath" ng-if="likedMovie.poster_path" ng-src="https://image.tmdb.org/t/p/w92/{{likedMovie.poster_path}}"> <img class="searchMoviesPosterPath" ng-if="!likedMovie.poster_path" ng-src="http://school4schools.com/blog/wp-content/plugins/lightbox/images/No-image-found.jpg"> <div class="md-list-item-text compact"> <h3>{{likedMovie.title}}</h3> <p>{{likedMovie.vote_average}}/10</p> </div> <div layout="column"> <md-button ng-click="evaluateMovies(movieSearched.id, 1)" class="md-icon-button" aria-label="Favorite" flex="none" ng-class="moviesEvaluation.get(likedMovie.id.toString()) === 1 ? \'md-primary\' : \'\'"> <md-icon md-svg-icon="action:ic_thumb_up_24px"></md-icon> </md-button> <span flex="grow"></span> <md-button ng-click="evaluateMovies(movieSearched.id, 0)" class="md-icon-button" aria-label="Favorite" flex="none" ng-class="moviesEvaluation.get(likedMovie.id.toString()) === 0 ? \'md-primary\' : \'\'"> <md-icon md-svg-icon="action:ic_thumb_down_24px"></md-icon> </md-button> </div> <md-divider ng-if="!$last"></md-divider> </md-list-item> </md-list> <md-list> <md-list-item class="md-2-line" ng-repeat="dislikedMovie in dislikedMovies | orderBy:\'popularity\':true"> <!-- <md-icon class="taskNotOk" md-svg-icon="alert:ic_error_24px" aria-label="task not ok icon"></md-icon> --> <img class="searchMoviesPosterPath" ng-if="dislikedMovie.poster_path" ng-src="https://image.tmdb.org/t/p/w92/{{dislikedMovie.poster_path}}"> <img class="searchMoviesPosterPath" ng-if="!dislikedMovie.poster_path" ng-src="http://school4schools.com/blog/wp-content/plugins/lightbox/images/No-image-found.jpg"> <div class="md-list-item-text compact"> <h3>{{dislikedMovie.title}}</h3> <p>{{dislikedMovie.vote_average}}/10</p> </div> <div layout="column"> <md-button ng-click="evaluateMovies(movieSearched.id, 1)" class="md-icon-button" aria-label="Favorite" flex="none" ng-class="moviesEvaluation.get(dislikedMovie.id.toString()) === 1 ? \'md-primary\' : \'\'"> <md-icon md-svg-icon="action:ic_thumb_up_24px"></md-icon> </md-button> <span flex="grow"></span> <md-button ng-click="evaluateMovies(movieSearched.id, 0)" class="md-icon-button" aria-label="Favorite" flex="none" ng-class="moviesEvaluation.get(dislikedMovie.id.toString()) === 0 ? \'md-primary\' : \'\'"> <md-icon md-svg-icon="action:ic_thumb_down_24px"></md-icon> </md-button> </div> <md-divider ng-if="!$last"></md-divider> </md-list-item> </md-list> </md-card> </md-content> </div>'),a.put("views/improveaccuracy.html",'<div layout-fill layout="column"> <!-- Main toolbar --> <md-toolbar class="md-whiteframe-z1"> <div class="md-toolbar-tools"> <!-- Hamburger icon --> <md-button class="md-icon-button" ng-click="toggleSidenav(\'left\')" hide-gt-md aria-label="Menu"> <md-icon md-svg-icon="navigation:ic_menu_24px" aria-label="Menu"></md-icon> </md-button> <h3> My Awesome Deep Learning Movies App </h3> <span flex></span> <!-- Search and menus icons --> <md-button class="md-icon-button" aria-label="Search" ng-click="toggleSearch()"> <md-icon md-svg-icon="action:ic_search_24px" aria-label="Search"></md-icon> </md-button> <md-button class="md-icon-button" aria-label="Open Settings" ng-click="showListBottomSheet($event)"> <md-icon md-svg-icon="navigation:ic_more_vert_24px" aria-label="More"></md-icon> </md-button> </div> </md-toolbar> <!-- Content --> <md-content layout-padding ng-cloak> <div layout="row"> <span flex></span> <!-- <md-card id="searchMovieCard" flex="50" layout="row">\n      </md-card> --> <form flex="50" ng-submit="searchMovieByName(nameSearchMovie)" name="searchMovieForm" layout="row"> <md-input-container layout-fill class="md-icon-float md-block"> <!-- Use floating label instead of placeholder --> <label>&nbsp;</label> <md-icon md-svg-icon="action:ic_search_24px" aria-label="movie search"></md-icon> <input style="font-size:22px; margin-bottom: -15px; margin-top: 5px" ng-model="nameSearchMovie" type="search" placeholder="Rechercher un film"> </md-input-container> <!-- <md-button ng-show="nameSearchMovie" ng-click="searchMovieByName(nameSearchMovie)" class="md-raised" aria-label="description" md-ripple-size="auto">Rechercher le film</md-button> --> </form> <md-button flex="none" ng-click="discoverMovies()" class="md-raised" aria-label="description" md-ripple-size="auto"> <md-icon md-svg-icon="av:ic_shuffle_24px"></md-icon> </md-button> <md-button flex="none" ng-disabled="globalPage <= 1" ng-click="discoverMovies(-1)" class="md-raised" aria-label="description" md-ripple-size="auto"> <md-icon md-svg-icon="image:ic_navigate_before_24px"></md-icon> </md-button> <md-button flex="none" ng-disabled="globalPage >= 1000" ng-click="discoverMovies(1)" class="md-raised" aria-label="description" md-ripple-size="auto"> <md-icon md-svg-icon="image:ic_navigate_next_24px"></md-icon> </md-button> <span flex></span> </div> <!-- <md-card>\n      <h1>Améliorer mes prédictions</h1>\n      <p>Ameliorez vos prédictions notant d\'autre films !</p>\n    \n\n\n    </md-card> --> <div ng-show="!loadingBar" class="searchedMoviesCardContainer" layout-wrap layout="row" layout-align="space-around center" data-images-loaded> <md-card class="searchedMoviesCard" ng-repeat="movieSearched in moviesSearched.results | orderBy:\'popularity\':true"> <img ng-click="showMovieDetailsDialog($event, movieSearched.id)" class="searchMoviesBackdropPath" ng-if="movieSearched.backdrop_path" ng-src="https://image.tmdb.org/t/p/w780/{{movieSearched.backdrop_path}}"> <img ng-click="showMovieDetailsDialog($event, movieSearched.id)" class="searchMoviesBackdropPath" ng-if="!movieSearched.backdrop_path" ng-src="https://www.youmagine.com/assets/placeholder-4232c9c79bc795997e7c7d4457b3725ee5f0fb55197114169a60a534105902fb.png"> <md-card-actions layout="row" layout-align="start center"> <div layout="column" flex="70"> <span class="headline">{{movieSearched.title}}</span> <span class="subline">{{movieSearched.vote_average}} <span style="font-size: 16px">★</span></span> </div> <span flex></span> <md-button flex="none" ng-click="evaluateMovies(movieSearched.id, 1)" class="md-icon-button" aria-label="like" ng-class="moviesEvaluation.get(movieSearched.id.toString()) === 1 ? \'md-primary\' : \'\'"> <md-icon md-svg-icon="action:ic_thumb_up_24px"></md-icon> </md-button> <md-button md-theme="redTheme" flex="none" ng-click="evaluateMovies(movieSearched.id, 0)" class="md-icon-button" aria-label="dislike" ng-class="moviesEvaluation.get(movieSearched.id.toString()) === 0 ? \'md-primary\' : \'\'"> <md-icon md-svg-icon="action:ic_thumb_down_24px"></md-icon> </md-button> </md-card-actions> </md-card> </div> <div ng-show="!loadingBar" id="bottomImproveAccuracyNavigation" layout="center center"> <md-button flex="none" ng-click="discoverMovies()" class="md-raised" aria-label="description" md-ripple-size="auto"> <md-icon md-svg-icon="av:ic_shuffle_24px"></md-icon> </md-button> <md-button flex="none" ng-disabled="globalPage <= 1" ng-click="discoverMovies(-1)" class="md-raised" aria-label="description" md-ripple-size="auto"> <md-icon md-svg-icon="image:ic_navigate_before_24px"></md-icon> </md-button> <md-button flex="none" ng-disabled="globalPage >= 1000" ng-click="discoverMovies(1)" class="md-raised" aria-label="description" md-ripple-size="auto"> <md-icon md-svg-icon="image:ic_navigate_next_24px"></md-icon> </md-button> </div> <md-card ng-show="moviesSearched && false"> <!-- <img class="md-card-image" src="card-image.png" alt="image caption"> --> <md-list> <md-list-item class="md-2-line" ng-repeat="movieSearched in moviesSearched.results | orderBy:\'popularity\':true"> <!-- <md-icon class="taskNotOk" md-svg-icon="alert:ic_error_24px" aria-label="task not ok icon"></md-icon> --> <img class="searchMoviesPosterPath" ng-if="movieSearched.poster_path" ng-src="https://image.tmdb.org/t/p/w92/{{movieSearched.poster_path}}"> <img class="searchMoviesPosterPath" ng-if="!movieSearched.poster_path" ng-src="http://school4schools.com/blog/wp-content/plugins/lightbox/images/No-image-found.jpg"> <div class="md-list-item-text compact"> <h3>{{movieSearched.title}}</h3> <p>{{movieSearched.vote_average}}/10</p> </div> <div layout="column"> <md-button ng-click="evaluateMovies(movieSearched.id, 1)" class="md-icon-button" aria-label="Favorite" flex="none" ng-class="moviesEvaluation.get(movieSearched.id.toString()) === 1 ? \'md-primary\' : \'\'"> <md-icon md-svg-icon="action:ic_thumb_up_24px"></md-icon> </md-button> <span flex="grow"></span> <md-button ng-click="evaluateMovies(movieSearched.id, 0)" class="md-icon-button" aria-label="Favorite" flex="none" ng-class="moviesEvaluation.get(movieSearched.id.toString()) === 0 ? \'md-primary\' : \'\'"> <md-icon md-svg-icon="action:ic_thumb_down_24px"></md-icon> </md-button> </div> <md-divider ng-if="!$last"></md-divider> </md-list-item> </md-list> </md-card> <!-- Image preloading --> <div id="preloaded-images"> <img ng-repeat="movie in moviesSearched.results" ng-src="https://image.tmdb.org/t/p/w185/{{movie.poster_path}}" width="1" height="1" alt=""> </div> </md-content> </div>'),a.put("views/main.html",'<div layout-fill layout="column"> <!-- Main toolbar --> <md-toolbar class="md-whiteframe-z1"> <div class="md-toolbar-tools"> <!-- Hamburger icon --> <md-button class="md-icon-button" ng-click="toggleSidenav(\'left\')" hide-gt-md aria-label="Menu"> <md-icon md-svg-icon="navigation:ic_menu_24px" aria-label="Menu"></md-icon> </md-button> <h3> My Awesome Deep Learning Movies App </h3> <span flex></span> <!-- Search and menus icons --> <md-button class="md-icon-button" aria-label="Search" ng-click="toggleSearch()"> <md-icon md-svg-icon="action:ic_search_24px" aria-label="Search"></md-icon> </md-button> <md-button class="md-icon-button" aria-label="Open Settings" ng-click="showListBottomSheet($event)"> <md-icon md-svg-icon="navigation:ic_more_vert_24px" aria-label="More"></md-icon> </md-button> </div> </md-toolbar> <!-- Content --> <div layout="column" layout-padding> <md-card> <h1>Bienvenue jeune padawan !</h1> </md-card> <md-card> <h1>Importez ou exportez vos préférences</h1> <p>Ameliorez vos prédictions notant d\'autre films !</p> <md-input-container> <label>Uploader vos films déja annotés</label> <input type="file" id="preferences"> </md-input-container> <md-button ng-click="uploadFiles()" class="md-raised" aria-label="description" md-ripple-size="auto">Importez vos préférences</md-button> <md-button ng-click="saveToPc(moviesEvaluation, \'moviesEvaluated.json\')" class="md-raised" aria-label="description" md-ripple-size="auto">Enregistrer le fichier</md-button> </md-card> </div> </div>'),a.put("views/moviedetailsdialog.html",'<md-dialog flex="80" id="movieDetailsDialog" aria-label="Détails du film"> <!-- <md-toolbar>\n    <div class="md-toolbar-tools">\n      <h2>\n        {{movieDetails.title}}\n      </h2>\n      <span flex></span>\n      <md-button class="md-icon-button" ng-click="cancel()">\n        <md-icon md-svg-src="navigation:ic_close_24px" aria-label="Close dialog"></md-icon>\n      </md-button>\n    </div>\n  </md-toolbar> --> <md-button class="close_button md-icon-button" ng-click="cancel()"> <md-icon md-svg-src="navigation:ic_close_24px" aria-label="Close dialog"></md-icon> </md-button> <!-- <img class="movieDetailsBackdropPath" ng-if="movieDetails.backdrop_path" ng-src="https://image.tmdb.org/t/p/w780/{{movieDetails.backdrop_path}}"/>\n  <img class="movieDetailsBackdropPath" ng-if="!movieDetails.backdrop_path" ng-src="https://www.youmagine.com/assets/placeholder-4232c9c79bc795997e7c7d4457b3725ee5f0fb55197114169a60a534105902fb.png"/> --> <div id="headerimage" ng-style="{\'background-image\':\'url(https://image.tmdb.org/t/p/w780/\'+movieDetails.backdrop_path+\')\'}"> </div> <div layout="column" id="movieFloatingInfo"> <h2 class="headline" id="movieTitle"> {{movieDetails.title}} <span ng-if="movieDetails.release_date">({{movieDetails.release_date | limitTo:4}})</span> </h2> <span ng-if="movieDetails.tagline" class="subline">{{movieDetails.tagline}}</span> <!-- <span class="subline"><span ng-repeat="genre in movieDetails.genres">{{genre.name}}<span ng-if="!$last">, </span></span></span> --> <span class="subline">{{movieDetails.vote_average}} <span style="font-size: 16px">★</span></span> <md-chips ng-model="movieDetails.genres" readonly> <md-chip-template> {{$chip.name}} </md-chip-template> </md-chips> </div> <div id="moviePoster"> <img md-whiteframe="8" ng-if="movieDetails.poster_path" ng-src="https://image.tmdb.org/t/p/w185/{{movieDetails.poster_path}}"> <img md-whiteframe="8" ng-if="!movieDetails.poster_path" ng-src="https://www.youmagine.com/assets/placeholder-4232c9c79bc795997e7c7d4457b3725ee5f0fb55197114169a60a534105902fb.png"> </div> <md-dialog-content id="movieDialogContent"> <div id="wrapper" layout="row"> <div id="movieDetails" class="md-padding"> <!-- <h2>Synopsis</h2> --> <p ng-if="movieDetails.overview">{{movieDetails.overview}}</p> <p ng-if="!movieDetails.overview">Aucun résumé n\'est disponible pour ce film</p> </div> </div> </md-dialog-content> <!-- <md-dialog-actions>\n		<span flex></span>\n		<md-button ng-click="cancel()"> Annuler </md-button>\n		<md-button ng-disabled="addAssignmentForm.$invalid" ng-click="editAssignmentChild(assignInfos)" class="md-primary"> Enregistrer </md-button>\n	</md-dialog-actions> --> </md-dialog>')}]);